<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SiriuS Birthday OS</title>
  <style>
    :root {
      --bg: #09060f;
      --panel: #13101c;
      --panel-2: #1d1630;
      --text: #f7f0ff;
      --muted: #c0b6d8;
      --hot: #ff4dc4;
      --cold: #7a8cff;
      --ok: #75ffce;
      --warn: #ffd166;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
      color: var(--text);
      background:
        radial-gradient(circle at 20% 10%, rgba(122, 140, 255, 0.24), transparent 28%),
        radial-gradient(circle at 85% 18%, rgba(255, 77, 196, 0.22), transparent 26%),
        linear-gradient(150deg, #07050c 0%, #0e0a17 42%, #09060f 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .noise {
      pointer-events: none;
      position: fixed;
      inset: 0;
      opacity: 0.05;
      background-image: radial-gradient(rgba(255, 255, 255, 0.8) 0.6px, transparent 0.6px);
      background-size: 3px 3px;
      z-index: 0;
    }

    .container {
      width: min(1120px, 92vw);
      margin: 0 auto;
      padding: 24px 0 64px;
      position: relative;
      z-index: 1;
    }

    .card {
      background: linear-gradient(165deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
      border: 1px solid rgba(255, 255, 255, 0.09);
      border-radius: 20px;
      backdrop-filter: blur(8px);
      box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35);
    }

    .hero {
      padding: 26px;
      margin-bottom: 18px;
      position: relative;
      overflow: hidden;
    }

    .glow {
      position: absolute;
      width: 220px;
      height: 220px;
      border-radius: 50%;
      filter: blur(70px);
      opacity: 0.55;
    }

    .g1 { right: -60px; top: -60px; background: var(--hot); }
    .g2 { left: -80px; bottom: -80px; background: var(--cold); }

    h1, h2, h3, p { margin: 0; }

    .eyebrow {
      color: var(--ok);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .hero-title {
      font-size: clamp(30px, 6vw, 56px);
      line-height: 1;
      margin-bottom: 8px;
      text-shadow: 0 0 24px rgba(255, 77, 196, 0.35);
    }

    .hero-sub {
      color: var(--muted);
      max-width: 760px;
      line-height: 1.5;
      margin-bottom: 16px;
    }

    .row {
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(12, 1fr);
      margin-bottom: 14px;
    }

    .col-4 { grid-column: span 4; }
    .col-6 { grid-column: span 6; }
    .col-8 { grid-column: span 8; }
    .col-12 { grid-column: span 12; }

    .module {
      padding: 18px;
      min-height: 100%;
    }

    .module h2 {
      font-size: 20px;
      margin-bottom: 6px;
    }

    .module p {
      color: var(--muted);
      line-height: 1.45;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 14px;
    }

    .pill {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 999px;
      font-size: 13px;
      padding: 7px 12px;
    }

    button {
      background: linear-gradient(140deg, rgba(255, 77, 196, 0.9), rgba(122, 140, 255, 0.86));
      color: white;
      border: none;
      border-radius: 11px;
      font: inherit;
      padding: 10px 13px;
      cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease, opacity .2s ease;
      box-shadow: 0 10px 24px rgba(95, 80, 240, 0.3);
    }

    button:hover { transform: translateY(-1px); }
    button:active { transform: translateY(1px) scale(0.99); }
    button.ghost {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow: none;
    }

    .actions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }

    .console {
      margin-top: 12px;
      height: 125px;
      overflow: auto;
      background: #0d0a15;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.07);
      padding: 10px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 13px;
      line-height: 1.4;
      color: #c8ffed;
      white-space: pre-wrap;
    }

    .ask-box {
      margin-top: 12px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(0, 0, 0, 0.17);
      min-height: 76px;
      display: flex;
      align-items: center;
    }

    .progress {
      margin-top: 12px;
      height: 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }

    .progress > span {
      display: block;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--ok), var(--hot));
      transition: width .35s ease;
    }

    .quest-list { margin-top: 10px; display: grid; gap: 8px; }
    .quest-item {
      padding: 10px;
      border-radius: 11px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.11);
      font-size: 14px;
    }

    .quest-item.done {
      border-color: rgba(117, 255, 206, 0.45);
      color: #cbffe8;
      text-decoration: line-through;
    }

    .tiny {
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
    }

    .links {
      margin-top: 10px;
      display: grid;
      gap: 8px;
    }

    .links a {
      color: #f8c3ff;
      text-decoration: none;
      border: 1px solid rgba(255, 255, 255, 0.13);
      border-radius: 10px;
      padding: 9px 10px;
      background: rgba(255, 255, 255, 0.05);
    }

    .links a:hover { border-color: rgba(255, 255, 255, 0.32); }

    .timeline {
      margin-top: 10px;
      display: grid;
      gap: 10px;
    }

    .timeline-item {
      position: relative;
      padding: 10px 10px 10px 14px;
      border-left: 2px solid rgba(255, 255, 255, 0.24);
      background: rgba(255, 255, 255, 0.04);
      border-radius: 8px;
    }

    .timeline-item b { color: #ffd5f5; }
    .timeline-item span { color: var(--muted); font-size: 13px; display: block; margin-top: 3px; }

    .lockscreen {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 30% 20%, rgba(122, 140, 255, 0.22), transparent 30%),
        radial-gradient(circle at 70% 70%, rgba(255, 77, 196, 0.23), transparent 32%),
        #08060e;
      z-index: 5;
      display: grid;
      place-items: center;
      padding: 18px;
      transition: opacity .35s ease, visibility .35s ease;
    }

    .lockscreen.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .lock-card {
      width: min(540px, 95vw);
      padding: 20px;
    }

    .input {
      margin-top: 10px;
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.23);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      color: white;
      font: inherit;
      padding: 11px 12px;
    }

    .lock-actions { display: flex; gap: 8px; margin-top: 12px; }
    .lock-msg { margin-top: 8px; min-height: 22px; color: #ffd1f5; font-size: 14px; }

    .floating {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      animation: fly 1600ms ease-out forwards;
      z-index: 10;
      text-shadow: 0 4px 14px rgba(0, 0, 0, 0.44);
    }

    @keyframes fly {
      from { transform: translateY(0) scale(1); opacity: 1; }
      to { transform: translateY(-90px) scale(1.35); opacity: 0; }
    }

    .game {
      margin-top: 10px;
      border-radius: 12px;
      border: 1px dashed rgba(255, 255, 255, 0.3);
      background: rgba(0, 0, 0, 0.21);
      min-height: 220px;
      position: relative;
      overflow: hidden;
      user-select: none;
    }

    .token {
      position: absolute;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-size: 22px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.09);
      border: 1px solid rgba(255, 255, 255, 0.22);
    }

    .game-hud {
      display: flex;
      justify-content: space-between;
      margin-top: 9px;
      font-size: 14px;
      color: #e7dfff;
    }

    .final-note {
      margin-top: 12px;
      border-radius: 12px;
      padding: 14px;
      background: linear-gradient(145deg, rgba(255, 77, 196, 0.16), rgba(122, 140, 255, 0.16));
      border: 1px solid rgba(255, 255, 255, 0.16);
      white-space: pre-line;
      line-height: 1.5;
      display: none;
    }

    .final-note.show { display: block; }

    .quote-box {
      margin-top: 12px;
      padding: 14px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(8, 6, 14, 0.45);
      min-height: 112px;
    }

    .quote-meta {
      font-size: 12px;
      color: #b8ade2;
      margin-bottom: 6px;
      letter-spacing: 0.03em;
    }

    .quote-text {
      line-height: 1.5;
      color: #f7f0ff;
      white-space: pre-line;
    }

    .chips {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 7px;
    }

    .chip {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.08);
      font-size: 13px;
    }

    .result-ok {
      margin-top: 10px;
      color: #bafcdf;
      min-height: 20px;
      font-size: 14px;
    }

    .badge-grid {
      margin-top: 10px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .badge {
      border: 1px solid rgba(255, 255, 255, 0.14);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      padding: 10px;
      font-size: 13px;
      color: #ebdeff;
    }

    .badge b {
      display: block;
      color: #ffd3f3;
      margin-bottom: 3px;
      font-size: 14px;
    }

    .wish-box {
      margin-top: 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(0, 0, 0, 0.18);
      padding: 12px;
      min-height: 88px;
      line-height: 1.5;
      color: #f8f0ff;
      white-space: pre-line;
    }

    .present-box {
      margin-top: 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: linear-gradient(145deg, rgba(255, 77, 196, 0.12), rgba(122, 140, 255, 0.12));
      padding: 12px;
      min-height: 88px;
      line-height: 1.5;
      color: #f7f0ff;
      white-space: pre-line;
    }

    @media (max-width: 980px) {
      .col-8, .col-6, .col-4 { grid-column: span 12; }
    }
  </style>
</head>
<body>
  <div class="noise"></div>

  <div class="lockscreen" id="lockscreen">
    <div class="card lock-card">
      <p class="eyebrow">ACCESS PROTOCOL</p>
      <h2>–¢–æ–ª—å–∫–æ –¥–ª—è –°–µ—Ä–µ–∂–∏</h2>
      <p class="hero-sub">–í–≤–µ–¥–∏ –∫–æ–¥–æ–≤—É—é —Ñ—Ä–∞–∑—É –∏–∑ —á–∞—Ç–∞, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–æ–∫. –ü–æ–¥—Å–∫–∞–∑–∫–∞: —É—Ç—Ä–µ–Ω–Ω–∏—è—è —Ñ—Ä–∞–∑–∞.</p>
      <input id="codeInput" class="input" type="text" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: —É—Ç—Ä–µ—á–∫–∞">
      <div class="lock-actions">
        <button id="unlockBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
        <button class="ghost" id="hintBtn">–ü–æ–¥—Å–∫–∞–∑–∫–∞ 2</button>
      </div>
      <div class="lock-msg" id="lockMsg"></div>
    </div>
  </div>

  <main class="container">
    <section class="card hero">
      <div class="glow g1"></div>
      <div class="glow g2"></div>
      <p class="eyebrow">Birthday Build v1.2</p>
      <h1 class="hero-title">SiriuS Birthday OS</h1>
      <p class="hero-sub">
        –ú–∞–ª–µ–Ω—å–∫–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è, —Å–æ–±—Ä–∞–Ω–Ω–∞—è –∏–∑ —Ç–≤–æ–∏—Ö —Ñ—Ä–∞–∑, –ø—Ä–∏–≤—ã—á–µ–∫, –º–µ–º–æ–≤ –∏ –¥–µ—Ç–∞–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç —Ç–µ–±—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º.
        –° –¥—Ä, –¥—É—Ä–∞!
      </p>
      <div class="pill-row">
        <span class="pill">—É—Ç—Ä–µ—á–∫–∞</span>
        <span class="pill">–º—è—É / –º—É—Ä</span>
        <span class="pill">—Ç–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å</span>
        <span class="pill">–æ–±–Ω—è–ª / –ø–æ—Ü–µ–ª–æ–≤–∞–ª</span>
        <span class="pill">–º–∞–π–Ω + —Å–µ—Ä–≤–µ—Ä</span>
        <span class="pill">–ø–∞—Å—Ö–∞–ª–∫–∏</span>
      </div>
    </section>

    <section class="row">
      <article class="card module col-6">
        <h2>–†–∏—Ç—É–∞–ª-—Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä</h2>
        <p>–ù–∞–∂–∏–º–∞–π –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∞–π–± –°–µ—Ä–µ–∂–∏ –∏ –æ—Ç–∫—Ä—ã—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</p>
        <div class="actions">
          <button data-action="—É—Ç—Ä–µ—á–∫–∞">–£—Ç—Ä–µ—á–∫–∞</button>
          <button data-action="–º—è—É">–ú—è—É</button>
          <button data-action="–º—É—Ä">–ú—É—Ä</button>
          <button data-action="–æ–±–Ω—è–ª">–û–±–Ω—è—Ç—å</button>
          <button data-action="–ø–æ—Ü–µ–ª–æ–≤–∞–ª">–ü–æ—Ü–µ–ª–æ–≤–∞—Ç—å</button>
          <button data-action="*—á–º–æ–∫*">*—á–º–æ–∫*</button>
        </div>
        <div class="console" id="console"></div>
        <p class="tiny">–ü–∞—Å—Ö–∞–ª–∫–∞: –ø–æ–ø—Ä–æ–±—É–π –ø–æ—Ä—è–¥–æ–∫ <b>–º—è—É ‚Üí –º—É—Ä ‚Üí –æ–±–Ω—è—Ç—å ‚Üí –ø–æ—Ü–µ–ª–æ–≤–∞—Ç—å</b>.</p>
      </article>

      <article class="card module col-6">
        <h2>‚ùï –¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å</h2>
        <p>–§–æ—Ä–º–∞—Ç –∏–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏, –Ω–æ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ –Ω–µ–º, –µ–≥–æ –≤–∫—É—Å–∞—Ö –∏ –ø–ª–∞–Ω–∞—Ö.</p>
        <div class="ask-box" id="questionBox">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤–æ–ø—Ä–æ—Å.</div>
        <div class="actions">
          <button id="rollQuestionBtn">–í—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å</button>
          <button id="truthBtn" class="ghost">–ú—è–≥–∫–∏–π —Ä–µ–∂–∏–º</button>
          <button id="spicyBtn" class="ghost">–°–º–µ–ª—ã–π —Ä–µ–∂–∏–º</button>
        </div>
      </article>
    </section>

    <section class="row">
      <article class="card module col-4">
        <h2>–ö–≤–µ—Å—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏</h2>
        <p>–ö–æ–≥–¥–∞-—Ç–æ –±—ã–ª–æ "–Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞ —Å—Ç–∞–≤–∏—Ç—å". –í —ç—Ç–æ–º –∫–≤–µ—Å—Ç–µ —Å–º—ã—Å–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è.</p>
        <div class="quest-list" id="questList">
          <div class="quest-item" data-quest="q1">–°–¥–µ–ª–∞–π 5 –¥–µ–π—Å—Ç–≤–∏–π –≤ —Ä–∏—Ç—É–∞–ª-—Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä–µ</div>
          <div class="quest-item" data-quest="q2">–ü–æ–ª—É—á–∏ 3 –≤–æ–ø—Ä–æ—Å–∞</div>
          <div class="quest-item" data-quest="q3">–ù–∞–±–µ—Ä–∏ 14 –æ—á–∫–æ–≤ –≤ –º–∏–Ω–∏-–∏–≥—Ä–µ</div>
          <div class="quest-item" data-quest="q4">–ù–∞–π–¥–∏ 2 —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</div>
          <div class="quest-item" data-quest="q5">–û—Ç–∫—Ä–æ–π 4 —Ü–∏—Ç–∞—Ç—ã –≤ —Ü–∏—Ç–∞—Ç–Ω–æ–º —Å–µ–π—Ñ–µ</div>
          <div class="quest-item" data-quest="q6">–†–∞—Å—à–∏—Ñ—Ä—É–π –∫–æ–¥-—Ñ—Ä–∞–∑—É –∏–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏</div>
        </div>
        <div class="progress"><span id="questProgress"></span></div>
        <p class="tiny" id="questState">–ü—Ä–æ–≥—Ä–µ—Å—Å: 0/6</p>
      </article>

      <article class="card module col-8">
        <h2>–ú–∏–Ω–∏-–∏–≥—Ä–∞: "–ü–æ–π–º–∞–π –ú—É—Ä"</h2>
        <p>30 —Å–µ–∫—É–Ω–¥. –õ–æ–≤–∏ üíã, ü§ó –∏ üòò. –ó–∞ üôÑ —Å–Ω–∏–º–∞–µ—Ç—Å—è –æ—á–∫–æ. –¶–µ–ª—å ‚Äî 14+.</p>
        <div class="actions">
          <button id="startGameBtn">–°—Ç–∞—Ä—Ç</button>
          <button id="stopGameBtn" class="ghost">–°—Ç–æ–ø</button>
        </div>
        <div class="game" id="gameArea"></div>
        <div class="game-hud">
          <span>–°—á–µ—Ç: <b id="score">0</b></span>
          <span>–í—Ä–µ–º—è: <b id="time">30</b> —Å–µ–∫</span>
          <span id="gameStatus">–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞</span>
        </div>
      </article>
    </section>

    <section class="row">
      <article class="card module col-6">
        <h2>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –°–µ—Ä–µ–∂–∏</h2>
        <p>–¢–æ—á–∫–∏, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —É–∑–Ω–∞–µ—Ç—Å—è —Ç–≤–æ–π –≤–∞–π–±: –º—É–∑—ã–∫–∞, –∏–≥—Ä—ã –∏ –º–µ–º—ã</p>
        <div class="links">
          <a href="https://music.yandex.ru/artist/24675827?utm_source=web&utm_medium=copy_link" target="_blank" rel="noopener">–ö–∞—Ä—Ç–æ—á–∫–∞ –±—É–¥—É—â–µ–π –∑–≤–µ–∑–¥—ã</a>
          <a href="https://music.yandex.ru/album/39696215?utm_source=web&utm_medium=copy_link" target="_blank" rel="noopener">–ù–∏—Ö—É–µ–≤—ã–π —Ç—Ä–µ–∫</a>
          <a href="https://music.yandex.ru/artist/12937294?utm_source=web&utm_medium=copy_link" target="_blank" rel="noopener">–ë–ª—è, —Ç–µ–±–µ –Ω–µ 20...</a>
        </div>
        <div class="ask-box" id="artifactBox">–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: –ø–æ–ø—Ä–æ–±—É–π –≤–≤–µ—Å—Ç–∏ –≤–Ω–∏–∑—É "svokiradus"</div>
        <input id="secretInput" class="input" type="text" placeholder="–≤–≤–µ–¥–∏ —Å–µ–∫—Ä–µ—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É">
      </article>

      <article class="card module col-6">
        <h2>–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –°–µ—Ä–µ–∂–∏ —Å–≤–æ–∫–∏—Ä–∞–¥—É—Å–∞</h2>
        <p>–ù–µ–±–æ–ª—å—à–æ–π –º–æ–Ω—Ç–∞–∂ –∏–∑ –≤–∞–∂–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π –∏ –º–æ–º–µ–Ω—Ç–æ–≤.</p>
        <div class="timeline">
          <div class="timeline-item"><b>06.01</b> –û—á —Å—Ç—Ä–∞–Ω–Ω–æ–µ –∑–∞–∫–æ–º—Å—Ç–≤–æ —Å –∫–ª–∞—Å—Å–Ω—ã–º –∫–æ–Ω–Ω–µ–∫—Ç–æ–º.<span>–£ —Ç–µ–±—è —Ü–µ–ø–ª—è—é—â–∏–π —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è!</span></div>
          <div class="timeline-item"><b>07.01</b> –ü–æ—è–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–µ –º–∏–ª—ã–µ –≤–µ—â–∏: –º—è—É, –º—É—Ä, —É—Ç—Ä–µ—á–∫–∞.<span>–¢–≤–æ–π –ª–∏—á–Ω—ã–π —è–∑—ã–∫ –≤ —á–∞—Ç–µ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤–æ–∫—Ä—É–≥ –Ω–µ–≥–æ!</span></div>
          <div class="timeline-item"><b>09.01</b> –§–æ—Ä–º–∞—Ç "–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π —Ñ–∏—à–∫–æ–π.<span>–¢—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å –¥–∏–∞–ª–æ–≥ –∂–∏–≤—ã–º –∏ –Ω–µ—Å–∫—É—á–Ω—ã–º.</span></div>
          <div class="timeline-item"><b>12‚Äì29.01</b> –ú–∞–π–Ω, –º—É–∑—ã–∫–∞, –ø–ª–∞–Ω—ã –∏ –±—ã—Ç–æ–≤—ã–µ –¥–µ—Ç–∞–ª–∏.<span>–ú–∏–∫—Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤, —é–º–æ—Ä–∞ –∏ –¥—Ä–∞–π–≤–∞.</span></div>
          <div class="timeline-item"><b>–°–µ–π—á–∞—Å</b> –î—É—Ä–∞ —É–µ—Ö–∞–ª–∞, –ø–æ–¥–∞—Ä–æ–∫ –æ–Ω–ª–∞–π–Ω –∫–æ –¥–Ω—é —Ä–æ–∂–¥–µ–Ω–∏—è.<span>–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–≤–æ—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ö–∞—Ä–∏–∑–º–∞ –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞!</span></div>
        </div>
      </article>
    </section>

    <section class="row">
      <article class="card module col-6">
        <h2>–¶–∏—Ç–∞—Ç–Ω—ã–π —Å–µ–π—Ñ</h2>
        <p>–ù–µ–±–æ–ª—å—à–æ–π –∞—Ä—Ö–∏–≤ —Å —Ñ—Ä–∞–∑–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç —Ç–≤–æ–π –≤–∞–π–±–∏–∫.</p>
        <div class="quote-box" id="quoteBox">
          <div class="quote-meta" id="quoteMeta">[–∞—Ä—Ö–∏–≤ –Ω–µ –æ—Ç–∫—Ä—ã—Ç]</div>
          <div class="quote-text" id="quoteText">–ù–∞–∂–º–∏ "–°–ª–µ–¥—É—é—â–∞—è", —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ü–∏—Ç–∞—Ç—É.</div>
        </div>
        <div class="actions">
          <button id="prevQuoteBtn" class="ghost">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
          <button id="nextQuoteBtn">–°–ª–µ–¥—É—é—â–∞—è</button>
          <button id="saveQuoteBtn" class="ghost">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        </div>
      </article>

      <article class="card module col-6">
        <h2>Decoder: —Ñ—Ä–∞–∑–∞ –∏–∑ –Ω–∞—á–∞–ª–∞</h2>
        <p>–°–æ–±–µ—Ä–∏ —Ñ—Ä–∞–∑—É, –∫–æ—Ç–æ—Ä–∞—è –∏–¥–µ–∞–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Ç–µ–±—è –∏ —Ç–≤–æ—é —Å–∞–º–æ–∏—Ä–æ–Ω–∏—é.</p>
        <div class="chips" id="decoderParts"></div>
        <input id="decoderInput" class="input" type="text" placeholder="–≤–≤–µ–¥–∏ —Ñ—Ä–∞–∑—É —Ü–µ–ª–∏–∫–æ–º">
        <div class="actions">
          <button id="checkDecoderBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          <button id="shuffleDecoderBtn" class="ghost">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
        </div>
        <div class="result-ok" id="decoderResult"></div>
      </article>
    </section>

    <section class="row">
      <article class="card module col-6">
        <h2>Birthday-–ø—Ä–æ—Ñ–∏–ª—å –°–µ—Ä–µ–≥–∏</h2>
        <p>–ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å:—á–µ–º –æ–Ω –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.</p>
        <div class="badge-grid">
          <div class="badge"><b>–§–∏—Ä–º–µ–Ω–Ω–æ–µ —Å–ª–æ–≤–æ</b>–î—É—Ä–∞/–¥–æ–ª–±–æ–µ–±–∫–∞ –∫–∞–∫ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Ö–≤—Ö–≤—Ö–≤.</div>
          <div class="badge"><b>–î–∏–∞–ª–æ–≥–æ–≤—ã–π –≤–∞–π–±</b>–§–æ—Ä–º–∞—Ç "–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å" –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä–∫—É.</div>
          <div class="badge"><b>–ò–≥—Ä–æ–≤–æ–π —Ñ–ª–æ—É</b>–ú–∞–π–Ω –∫–∞–∫ —á–∞—Å—Ç—å –¥–æ—Å—É–≥–∞.</div>
          <div class="badge"><b>–ú–µ–º—á–∏–∫–∏</b>–¢—É—Ç –¥–∞–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –Ω–µ –Ω–∞–¥–æ.</div>
          <div class="badge"><b>–¢–∞–ª–∞–Ω—Ç–∏—â–µ</b>–ù—É —Ç—ã —Ä–µ–∞–ª—å–Ω–æ–π –∫–ª–∞—Å—Å–Ω—ã–π –¥–∏–¥–∂–µ–π –∏ –∞—Ñ–∏–≥–µ–Ω–Ω—ã–π —Å–æ–Ω–≥ —Ä–∞–π—Ç–µ—Ä</div>
          <div class="badge"><b>–û–±—Ä–∞–∑</b>–ù—É –º–æ–¥–Ω—è–≤—ã–π –≤—Ä–æ–¥–µ –∞—Ö—Ö–≤—Ö–≤.</div>
        </div>
      </article>

      <article class="card module col-6">
        <h2>–ö–∞–ø—Å—É–ª–∞ –ø–æ–∂–µ–ª–∞–Ω–∏–π</h2>
        <p>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ç—Ä–µ—Ö —Ä–µ–∂–∏–º–∞—Ö: –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —Å–∏–ª–∞, –ª–µ–≥–µ–Ω–¥–∞.</p>
        <div class="actions">
          <button id="wishMoodBtn">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</button>
          <button id="wishPowerBtn" class="ghost">–°–∏–ª–∞</button>
          <button id="wishLegendBtn" class="ghost">–õ–µ–≥–µ–Ω–¥–∞</button>
        </div>
        <div class="wish-box" id="wishBox">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –∏ –ø–æ–ª—É—á–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ.</div>
        <input id="birthdayCodeInput" class="input" type="text" placeholder="–º–∏–Ω–∏-—á–µ–ª–ª–µ–Ω–¥–∂: –≤–≤–µ–¥–∏ –∫–æ–¥-—Ñ—Ä–∞–∑—É –ø—Ä–æ –¥—Ä">
        <div class="result-ok" id="birthdayCodeResult"></div>
      </article>
    </section>

    <section class="row">
      <article class="card module col-12">
        <h2>–§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª</h2>
        <p>–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞. –¢–∞–º –ª–∏—á–Ω–æ–µ –ø–æ—Å–ª–∞–Ω–∏–µ, –ø–ª—é—Å —Ä–µ–∂–∏–º –≤—Ä—É—á–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞.</p>
        <div class="actions">
          <button id="presentModeBtn">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∂–∏–º –≤—Ä—É—á–µ–Ω–∏—è</button>
        </div>
        <div class="present-box" id="presentBox">–†–µ–∂–∏–º –≤—Ä—É—á–µ–Ω–∏—è –∂–¥—ë—Ç –∑–∞–ø—É—Å–∫–∞.</div>
        <div class="final-note" id="finalNote"></div>
      </article>
    </section>
  </main>

  <script>
    const state = {
      actions: 0,
      questions: 0,
      gameBest: 0,
      secrets: new Set(),
      mode: "soft",
      lastActions: [],
      quoteOpens: 0,
      decoderSolved: false
    };

    const consoleEl = document.getElementById("console");
    const questionBox = document.getElementById("questionBox");
    const artifactBox = document.getElementById("artifactBox");
    const finalNote = document.getElementById("finalNote");
    const questProgress = document.getElementById("questProgress");
    const questState = document.getElementById("questState");
    const quoteMeta = document.getElementById("quoteMeta");
    const quoteText = document.getElementById("quoteText");
    const wishBox = document.getElementById("wishBox");

    const softQuestions = [
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–∞—è —Ñ—Ä–∞–∑–∞ –≤ –æ–±—â–µ–Ω–∏–∏ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Ç–µ–±–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–æ–π –º–µ–º—á–∏–∫ —Ç—ã –ø–æ–º–Ω–∏—à—å –ª—É—á—à–µ –≤—Å–µ–≥–æ?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–æ–π —Ç—Ä–µ–∫ –∏–∑ —ç—Ç–∏—Ö —Å—Å—ã–ª–æ–∫ –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–±—è —Å–µ–π—á–∞—Å?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫—É—é —Å–≤–æ—é —á–µ—Ä—Ç—É —Ç—ã —Å—á–∏—Ç–∞–µ—à—å —Å–∞–º–æ–π —Å–∏–ª—å–Ω–æ–π?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–æ–π –æ–¥–∏–Ω –Ω–∞–≤—ã–∫ —Ö–æ—á–µ—à—å –ø—Ä–æ–∫–∞—á–∞—Ç—å –≤ —ç—Ç–æ–º –≥–æ–¥—É?"
    ];

    const spicyQuestions = [
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–æ–µ —Å–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ —Ç—ã —Å—á–∏—Ç–∞–µ—à—å —Å–∞–º—ã–º —É–¥–∞—á–Ω—ã–º?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ó–∞ –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç —Å–µ–±–µ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ —Ç—ã –±—ã —Å–∫–∞–∑–∞–ª \"–º–æ–ª–æ–¥–µ—Ü\"?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫–∞—è —Ç–≤–æ—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —à—É—Ç–∫–∞ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–µ—Ä—á–∞?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ß—Ç–æ —Ö–æ—á–µ—à—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–ø–µ—Ä–≤—ã–µ –≤ —ç—Ç–æ–º –≥–æ–¥—É?",
      "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–ö–∞–∫ –±—ã —Ç—ã –Ω–∞–∑–≤–∞–ª —Å–≤–æ—é –Ω–æ–≤—É—é –≥–ª–∞–≤—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è?"
    ];

    const actionLines = {
      "—É—Ç—Ä–µ—á–∫–∞": ["[07:39] SiriuS: –£—Ç—Ä–µ—á–∫–∞", "[SYS] –£—Ä–æ–≤–µ–Ω—å –∑–∞–±–æ—Ç—ã +1"],
      "–º—è—É": ["[CHAT] –ú—è—É))", "[SYS] –ö–æ—Ç-—Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω"],
      "–º—É—Ä": ["[CHAT] –ú—É—Ä –º—É—Ä –º—É—Ä", "[SYS] –¢–µ–ø–ª–æ +2"],
      "–æ–±–Ω—è–ª": ["ü§ó | –°–ª–∞–≤–∞ –æ–±–Ω—è–ª(–∞) SiriuS", "[SYS] –°–µ—Ä–¥—Ü–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ"],
      "–ø–æ—Ü–µ–ª–æ–≤–∞–ª": ["üòò | SiriuS –ø–æ—Ü–µ–ª–æ–≤–∞–ª(–∞) –°–ª–∞–≤—É", "[SYS] –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –±—É—Å—Ç +3"],
      "*—á–º–æ–∫*": ["*—á–º–æ–∫*", "[SYS] –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–µ–∂–Ω–æ—Å—Ç–∏ 100%"]
    };

    const quoteVault = [
      { date: "06.01 23:44", from: "SiriuS", text: "–ö—É, –∑–∞—è—Ü)" },
      { date: "06.01 23:45", from: "SiriuS", text: "–¢–µ –∫–æ–º—É –Ω–∞–¥–æ –∏ —Ç–∞–∫ –º–µ–Ω—è –∑–Ω–∞—é—Ç)" },
      { date: "07.01 19:25", from: "SiriuS", text: "–£—Ç—Ä–µ—á–∫–∞" },
      { date: "07.01 04:02", from: "SiriuS", text: "–°–∞–º—ã—Ö —Å–ª–∞–¥–∫–∏—Ö —Å–Ω–æ–≤)" },
      { date: "09.01 05:10", from: "SiriuS", text: "‚ùï–¢–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å‚ùï\n–°–æ—Å–∞–ª?" },
      { date: "09.01 02:12", from: "Vyacheslav", text: "–í–æ–æ–±—â–µ –∫–∞–∫ –±—ã —É —Ç–µ–±—è –¥—Ä —Å–∫–æ—Ä–æ" },
      { date: "12.01 11:31", from: "SiriuS", text: "svokiradus: –≤—Ö–æ–¥ –≤ –≤–∞—à –∏–≥—Ä–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä" },
      { date: "24.01 23:46", from: "Vyacheslav", text: "–ù–µ –≤—ã–µ–±—ã–≤–∞–π—Å—è)" },
      { date: "17.01 21:18", from: "Vyacheslav", text: "–ù–∞–¥–æ —Ä–∞–¥–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∞–º–∏ –±–ª–∏–∑–∫–∏—Ö" },
      { date: "31.01", from: "SYSTEM", text: "–ú—è—É / –ú—É—Ä / –£—Ç—Ä–µ—á–∫–∞ -> —Å—Ç–∏–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∞—Ä—Ö–∏–≤–µ." }
    ];
    let quoteIndex = -1;

    const wishPacks = {
      mood: [
        "–ü—É—Å—Ç—å –≤ —ç—Ç–æ–º –≥–æ–¥—É —É —Ç–µ–±—è –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –¥–Ω–µ–π —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º: \"–≤—Å–µ –ø–æ –∫–∞–π—Ñ—É\".",
        "–ñ–µ–ª–∞—é, —á—Ç–æ–±—ã —Ç—ã –ø—Ä–æ—Å—ã–ø–∞–ª—Å—è —Å –º—ã—Å–ª—å—é –∫–∞–∫–æ–π –∫–ª–∞—Å—Å–Ω—ã–π –¥–µ–Ω—å —Ç–µ–±—è –∂–¥–µ—Ç.",
        "–ü—É—Å—Ç—å —Ä—è–¥–æ–º –±—É–¥—É—Ç –ª—é–¥–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –∏ –ø–æ—Å–º–µ—è—Ç—å—Å—è, –∏ –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å."
      ],
      power: [
        "–ü—É—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É, –æ—Ç–¥—ã—Ö –∏ –≤—Å–µ, —á—Ç–æ —Ç–µ–±—è —Ä–µ–∞–ª—å–Ω–æ –∑–∞–∂–∏–≥–∞–µ—Ç.",
        "–ñ–µ–ª–∞—é —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —ç—Ç–∞–ø—ã –∏ —Å–æ–±–∏—Ä–∞—Ç—å —Å–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∞.",
        "–ü—É—Å—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç–µ—Ç –æ—Ç —Ç–≤–æ–∏—Ö —Ä–µ—à–µ–Ω–∏–π –∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –ø–æ–±–µ–¥."
      ],
      legend: [
        "–ñ–µ–ª–∞—é –≥–æ–¥, –≥–¥–µ —É —Ç–µ–±—è –±—É–¥–µ—Ç —Å–≤–æ–π —Å—é–∂–µ—Ç, —è—Ä–∫–∏–π, —Å–º–µ–ª—ã–π –∏ –æ—á–µ–Ω—å —Ç–≤–æ–π.",
        "–ü—É—Å—Ç—å –≤—Å–µ —Ç–≤–æ–∏ –∏–¥–µ–∏ –ø–æ–ª—É—á–∞—é—Ç —à–∞–Ω—Å –¥–æ–π—Ç–∏ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–æ –∑–∞–º–µ—Ç–æ–∫.",
        "–ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ —Å—Ç–∞–Ω–µ—Ç –∞–ø–≥—Ä–µ–π–¥–æ–º –¥–ª—è —Ç–µ–±—è."
      ]
    };

    const lockscreen = document.getElementById("lockscreen");
    const codeInput = document.getElementById("codeInput");
    const lockMsg = document.getElementById("lockMsg");

    function unlock() {
      const value = codeInput.value.trim().toLowerCase();
      if (["—É—Ç—Ä–µ—á–∫–∞", "–º—è—É", "sirius", "—Ç–µ–±–µ –≤—ã–ø–∞–ª –≤–æ–ø—Ä–æ—Å"].includes(value)) {
        lockMsg.textContent = "–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω. –° –î–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –°–µ—Ä–µ–∂–∞.";
        setTimeout(() => lockscreen.classList.add("hidden"), 300);
      } else {
        lockMsg.textContent = "–ù–µ —Ç–æ—Ç –∫–æ–¥. –î—É—Ä–∞. –ß—Ç–æ –±–ª—è—Ç—å –∂–µ–ª–∞—é—Ç —É—Ç—Ä–æ–º?";
      }
    }

    document.getElementById("unlockBtn").addEventListener("click", unlock);
    codeInput.addEventListener("keydown", (e) => { if (e.key === "Enter") unlock(); });
    document.getElementById("hintBtn").addEventListener("click", () => {
      lockMsg.textContent = "–ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —á–∞—Å—Ç–æ –ø–∏—à–µ—Ç–µ —É—Ç—Ä–æ–º.";
    });

    function pick(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function log(text) {
      consoleEl.textContent = text + "\n" + consoleEl.textContent;
    }

    function spawnFloating(symbol) {
      const el = document.createElement("div");
      el.className = "floating";
      el.textContent = symbol;
      el.style.left = Math.round(10 + Math.random() * 80) + "vw";
      el.style.top = Math.round(55 + Math.random() * 30) + "vh";
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 1600);
    }

    document.querySelectorAll("[data-action]").forEach((btn) => {
      btn.addEventListener("click", () => {
        const action = btn.getAttribute("data-action");
        state.actions += 1;
        state.lastActions.push(action);
        state.lastActions = state.lastActions.slice(-4);

        (actionLines[action] || []).forEach(log);
        spawnFloating(action === "–æ–±–Ω—è–ª" ? "ü§ó" : action === "–ø–æ—Ü–µ–ª–æ–≤–∞–ª" ? "üòò" : action === "–º—É—Ä" ? "üêæ" : "‚ú®");

        if (state.lastActions.join("|") === "–º—è—É|–º—É—Ä|–æ–±–Ω—è–ª|–ø–æ—Ü–µ–ª–æ–≤–∞–ª") {
          log("[EASTER EGG] –ò–¥–µ–∞–ª—å–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–æ–±—Ä–∞–Ω–∞.");
          artifactBox.textContent = "–ü–æ–ø—Ä–æ–±—É–π –≤–≤–µ—Å—Ç–∏ —Å–≤–æ–π –Ω–∏–∫.";
          state.secrets.add("combo");
        }

        updateQuests();
      });
    });

    function rollQuestion() {
      const arr = state.mode === "spicy" ? spicyQuestions : softQuestions;
      const q = arr[Math.floor(Math.random() * arr.length)];
      questionBox.textContent = q;
      state.questions += 1;
      updateQuests();
    }

    document.getElementById("rollQuestionBtn").addEventListener("click", rollQuestion);
    document.getElementById("truthBtn").addEventListener("click", () => {
      state.mode = "soft";
      questionBox.textContent = "–ú—è–≥–∫–∏–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω.";
    });
    document.getElementById("spicyBtn").addEventListener("click", () => {
      state.mode = "spicy";
      questionBox.textContent = "–°–º–µ–ª—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω.";
    });

    const questEls = {
      q1: document.querySelector('[data-quest="q1"]'),
      q2: document.querySelector('[data-quest="q2"]'),
      q3: document.querySelector('[data-quest="q3"]'),
      q4: document.querySelector('[data-quest="q4"]'),
      q5: document.querySelector('[data-quest="q5"]'),
      q6: document.querySelector('[data-quest="q6"]')
    };

    function setQuest(id, ok) {
      if (!questEls[id]) return 0;
      questEls[id].classList.toggle("done", ok);
      return ok ? 1 : 0;
    }

    function updateQuests() {
      let done = 0;
      done += setQuest("q1", state.actions >= 5);
      done += setQuest("q2", state.questions >= 3);
      done += setQuest("q3", state.gameBest >= 14);
      done += setQuest("q4", state.secrets.size >= 2);
      done += setQuest("q5", state.quoteOpens >= 4);
      done += setQuest("q6", state.decoderSolved);
      questState.textContent = `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${done}/6`;
      questProgress.style.width = `${(done / 6) * 100}%`;

      if (done === 6) {
        finalNote.classList.add("show");
        finalNote.textContent = [
          "–°–µ—Ä–µ–∂–∞, —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è.",
          "",
          "–≠—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫ —Å–æ–±—Ä–∞–Ω –∏–∑ —Ç–≤–æ–∏—Ö —Ñ—Ä–∞–∑ –∏ –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ö–∞–ª–æ–∫: –æ—Ç \"–¥—É—Ä–∞\" –¥–æ \"–º—É—Ä\",",
          "–æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –º–µ–º–æ–≤ –¥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —Ç–≤–æ–π —Å—Ç–∏–ª—å.",
          "",
          "–ñ–µ–ª–∞—é —Ç–µ–±–µ –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É –±–æ–ª—å—à–µ —Å–∏–ª, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏,",
          "–∫–ª–∞—Å—Å–Ω—ã—Ö –ª—é–¥–µ–π —Ä—è–¥–æ–º –∏ –º–æ–º–µ–Ω—Ç–æ–≤, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∞–≤–¥–∞ –∫–∞–π—Ñ–æ–≤–æ.",
          "",
          "P.S. –ï—Å–ª–∏ —Ç—ã —ç—Ç–æ —á–∏—Ç–∞–µ—à—å, –∑–Ω–∞—á–∏—Ç —Ç—ã –ø—Ä–æ—à–µ–ª –≤–µ—Å—å –∫–≤–µ—Å—Ç,",
          "–∞ –∑–Ω–∞—á–∏—Ç —Ç—ã —Ä–µ–∞–ª—å–Ω–æ —Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –¥–æ–±–∏–≤–∞—Ç—å—Å—è —Å–≤–æ–µ–≥–æ."
        ].join("\n");
      }
    }

    const secretInput = document.getElementById("secretInput");
    secretInput.addEventListener("keydown", (e) => {
      if (e.key !== "Enter") return;
      const v = secretInput.value.trim().toLowerCase();
      if (!v) return;

      if (v === "svokiradus") {
        artifactBox.textContent = "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –ö–æ–º–Ω–∞—Ç–∞ —Ç–µ–ø–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.";
        state.secrets.add("svokiradus");
      } else if (v === "–¥–µ–ø—É—Ç–∞—Ç") {
        artifactBox.textContent = "–°–µ–∫—Ä–µ—Ç '–¥–µ–ø—É—Ç–∞—Ç' –Ω–∞–π–¥–µ–Ω. –°—Ç–∞—Ä—ã–π –º–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω.";
        state.secrets.add("deputat");
      } else if (v === "—á–∞—Ç –≥–ø—Ç" || v === "chat gpt") {
        artifactBox.textContent = "–†–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤ –≤–∫–ª—é—á–µ–Ω: —Ç—ã –æ—á–µ–Ω—å –∫–ª–∞—Å—Å–Ω—ã–π.";
        state.secrets.add("gpt");
      } else if (v === "—É—Ç—Ä–µ—á–∫–∞") {
        artifactBox.textContent = "–£—Ç—Ä–µ—á–∫–∞ accepted. –ë–æ–Ω—É—Å: +1 –∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.";
        state.secrets.add("utre");
      } else {
        artifactBox.textContent = "–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ü—Ä–æ–±—É–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–ª–æ–≤–∞ –∏–∑ –≤–∞—à–µ–≥–æ —á–∞—Ç–∞.";
      }
      secretInput.value = "";
      updateQuests();
    });

    let gameTimer = null;
    let spawnTimer = null;
    let timeLeft = 30;
    let score = 0;

    const gameArea = document.getElementById("gameArea");
    const scoreEl = document.getElementById("score");
    const timeEl = document.getElementById("time");
    const gameStatus = document.getElementById("gameStatus");

    function clearTokens() {
      gameArea.querySelectorAll(".token").forEach((el) => el.remove());
    }

    function spawnToken() {
      const token = document.createElement("button");
      token.className = "token";
      const types = [
        { icon: "üíã", val: 2 },
        { icon: "ü§ó", val: 1 },
        { icon: "üòò", val: 2 },
        { icon: "üôÑ", val: -1 }
      ];
      const t = types[Math.floor(Math.random() * types.length)];
      token.textContent = t.icon;
      token.style.left = Math.round(Math.random() * Math.max(1, gameArea.clientWidth - 52)) + "px";
      token.style.top = Math.round(Math.random() * Math.max(1, gameArea.clientHeight - 52)) + "px";
      token.addEventListener("click", () => {
        score += t.val;
        scoreEl.textContent = String(score);
        token.remove();
      });
      gameArea.appendChild(token);
      setTimeout(() => token.remove(), 1100);
    }

    function stopGame() {
      if (gameTimer) clearInterval(gameTimer);
      if (spawnTimer) clearInterval(spawnTimer);
      gameTimer = null;
      spawnTimer = null;
      clearTokens();
      gameStatus.textContent = "–ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞";
      state.gameBest = Math.max(state.gameBest, score);
      updateQuests();
    }

    function startGame() {
      stopGame();
      score = 0;
      timeLeft = 30;
      scoreEl.textContent = "0";
      timeEl.textContent = "30";
      gameStatus.textContent = "–ü–æ–µ—Ö–∞–ª–∏";

      spawnTimer = setInterval(spawnToken, 260);
      gameTimer = setInterval(() => {
        timeLeft -= 1;
        timeEl.textContent = String(timeLeft);
        if (timeLeft <= 0) {
          stopGame();
          gameStatus.textContent = score >= 14
            ? "–£—Å–ø–µ—Ö! –¢—ã —Å–æ–±—Ä–∞–ª(–∞) 14+."
            : "–§–∏–Ω–∏—à. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑ –¥–æ 14+.";
        }
      }, 1000);
    }

    document.getElementById("startGameBtn").addEventListener("click", startGame);
    document.getElementById("stopGameBtn").addEventListener("click", stopGame);

    function showQuote(index) {
      const q = quoteVault[index];
      quoteMeta.textContent = `[${q.date}] ${q.from}`;
      quoteText.textContent = q.text;
      state.quoteOpens += 1;
      updateQuests();
    }

    document.getElementById("nextQuoteBtn").addEventListener("click", () => {
      quoteIndex = (quoteIndex + 1) % quoteVault.length;
      showQuote(quoteIndex);
    });

    document.getElementById("prevQuoteBtn").addEventListener("click", () => {
      quoteIndex = (quoteIndex - 1 + quoteVault.length) % quoteVault.length;
      showQuote(quoteIndex);
    });

    document.getElementById("saveQuoteBtn").addEventListener("click", () => {
      spawnFloating("üíú");
      log("[ARCHIVE] –¶–∏—Ç–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —Å–µ—Ä–¥—Ü–µ.");
      state.secrets.add("quote_save");
      updateQuests();
    });

    function showWish(type) {
      wishBox.textContent = pick(wishPacks[type]);
      state.secrets.add("wish_" + type);
      spawnFloating("üéâ");
      updateQuests();
    }

    document.getElementById("wishMoodBtn").addEventListener("click", () => showWish("mood"));
    document.getElementById("wishPowerBtn").addEventListener("click", () => showWish("power"));
    document.getElementById("wishLegendBtn").addEventListener("click", () => showWish("legend"));

    const birthdayCodeInput = document.getElementById("birthdayCodeInput");
    const birthdayCodeResult = document.getElementById("birthdayCodeResult");
    birthdayCodeInput.addEventListener("keydown", (e) => {
      if (e.key !== "Enter") return;
      const value = normalizeText(birthdayCodeInput.value);
      if (value === "–≤–æ–æ–±—â–µ –∫–∞–∫ –±—ã —É —Ç–µ–±—è –¥—Ä —Å–∫–æ—Ä–æ" || value === "–¥—Ä —Å–∫–æ—Ä–æ") {
        birthdayCodeResult.textContent = "–ö–æ–¥ –ø—Ä–∏–Ω—è—Ç. Birthday –±–æ–Ω—É—Å +100 –∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.";
        state.secrets.add("dr_code");
        spawnFloating("‚ú®");
      } else {
        birthdayCodeResult.textContent = "–ü–æ—á—Ç–∏. –ü–æ–¥—Å–∫–∞–∑–∫–∞: –¥—Ä —Å–∫–æ—Ä–æ";
      }
      birthdayCodeInput.value = "";
      updateQuests();
    });

    const decoderTarget = "—Ç–µ –∫–æ–º—É –Ω–∞–¥–æ –∏ —Ç–∞–∫ –º–µ–Ω—è –∑–Ω–∞—é—Ç";
    const decoderParts = document.getElementById("decoderParts");
    const decoderInput = document.getElementById("decoderInput");
    const decoderResult = document.getElementById("decoderResult");

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        const temp = a[i];
        a[i] = a[j];
        a[j] = temp;
      }
      return a;
    }

    function renderDecoderParts() {
      const words = shuffle(decoderTarget.split(" "));
      decoderParts.innerHTML = "";
      words.forEach((w) => {
        const span = document.createElement("span");
        span.className = "chip";
        span.textContent = w;
        decoderParts.appendChild(span);
      });
    }

    function normalizeText(text) {
      return text.toLowerCase().replace(/[^\u0400-\u04ff0-9a-z ]/gi, " ").replace(/\s+/g, " ").trim();
    }

    document.getElementById("shuffleDecoderBtn").addEventListener("click", renderDecoderParts);
    document.getElementById("checkDecoderBtn").addEventListener("click", () => {
      const got = normalizeText(decoderInput.value);
      if (got === decoderTarget) {
        decoderResult.textContent = "–°–æ–≤–ø–∞–ª–æ. –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞ —Ñ—Ä–∞–∑–∞.";
        state.decoderSolved = true;
        state.secrets.add("decoder");
        spawnFloating("‚ú®");
      } else {
        decoderResult.textContent = "–ü–æ—á—Ç–∏. –í—Å–ø–æ–º–Ω–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É.";
      }
      updateQuests();
    });

    const presentBox = document.getElementById("presentBox");
    document.getElementById("presentModeBtn").addEventListener("click", () => {
      const script = [
        "–†–µ–∂–∏–º –≤—Ä—É—á–µ–Ω–∏—è: –∑–∞–ø—É—â–µ–Ω.",
        "–° –î–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –°–µ—Ä–µ–∂–∞.",
        "–≠—Ç–æ—Ç —Å–∞–π—Ç —Å–æ–±—Ä–∞–Ω –ø–æ —Ç–≤–æ–∏–º —Ñ—Ä–∞–∑–∞–º, —à—É—Ç–∫–∞–º –∏ –¥–µ—Ç–∞–ª—è–º, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–∑—É —Ç–µ–±—è –≤—ã–¥–∞—é—Ç.",
        "–ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç —Å —Ö–æ—Ä–æ—à–∏–º–∏ –ª—é–¥—å–º–∏, —Å–∏–ª—å–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ –∏ —á–∏—Å—Ç—ã–º –∫–∞–π—Ñ–æ–º –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞.",
        "Birthday mode: ONLINE."
      ];
      let i = 0;
      presentBox.textContent = script[0];
      const timer = setInterval(() => {
        i += 1;
        if (i >= script.length) {
          clearInterval(timer);
          state.secrets.add("present_mode");
          updateQuests();
          return;
        }
        presentBox.textContent += "\n" + script[i];
      }, 900);
    });

    log("[BOOT] Birthday OS loaded.");
    log("[BOOT] Waiting for your actions...");
    renderDecoderParts();
  </script>
</body>
</html>
